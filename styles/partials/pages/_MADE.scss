@mixin split-hover {
  &:hover,
  &:focus,
  &.hover {
    @content;
  }
}

@mixin hoverable-graphic-panel-with-background($b: 1.075) {
  .section {
    --section-graphic-panel-pad: 0rem;
    &--graphic:not(.pro-con--icon) {
      height: unset;
      filter: brightness(1);
      &:hover,
      &:focus,
      &.hover,
      &[data-playing="true"] {
        filter: brightness(#{$b});
      }
    }
  }
}

#Made {
  .brief {
    &--group {
      &__study {
        @include xl-down {
          width: 80%;
        }
        @include lg-down {
          width: 90%;
        }
        @include md-down {
          width: 100%;
          column-gap: 2rem;
        }
      }
    }

    &--point {
      @include xl-down {
        &#deliverables {
          order: 0;
        }
        &#roles {
          order: 3;
        }
        &#timeline {
          order: 2;
        }
        &#tools {
          order: 1;
        }
      }
    }
  }

  #Overview {
    &--Client {
    }

    &--Goal {
      @include section-mask-color($col-tertiary);

      .section {
        &--copy {
          width: calc(#{col-width(6.5)} - (var(--gap) / 2));
        }
        &--graphic {
          width: calc(#{col-width(5.5)} - (var(--gap) / 2));
        }
        .mask {
          max-width: 100%;
        }
      }
    }

    &--Needs {
      @include section-mask-color($col-tertiary);

      .section {
        @include lg {
          max-width: 65%;
          @include mx-auto;
        }
        @include sm-down {
          max-width: 77.5%;
        }

        &--main {
          grid-template-columns: repeat(4, 1fr);

          @include lg-down {
            grid-template-columns: repeat(2, 1fr);
            --gap: 3rem;
          }
          @include md-down {
            --gap: 2.5rem;
          }
          @include sm-down {
            grid-template-columns: repeat(1, 1fr);
            --gap: 2.25rem;
          }
        }

        &--graphic {
          // --img-panel-height: 10rem;
          height: unset;
          aspect-ratio: 1 / 1;

          --graphic-scale: 0.85;

          @include xl-down {
            --graphic-scale: 0.75;
          }
          @include lg-down {
            --section-graphic-panel-pad: 1.75rem;
            --graphic-scale: 0.925;
          }
          @include md-down {
            --graphic-scale: 1;
          }
          @include sm-down {
            --section-graphic-panel-pad: 0.25rem;
            --graphic-scale: 1.25;
          }
        }

        .mask {
          @include sm-down {
            width: calc(Max(Min(45%, var(--w)), 55%));
          }
        }
      }
    }

    &--Outcome {
    }
  }

  #Approach {
    &--Banner {
    }

    &--Workflow {
      .section {
        --section-graphic-panel-pad: 0rem;
        --sec-gap: 4.5rem;
        --col:4;
        
        --graphic-scale: 0.935;
        @include xxl-down {
          --graphic-scale: 0.875;
        }
        @include xl-down {
          --sec-gap: 4.25rem;
          --graphic-scale: 0.805;
        }
        @include lg-down {
          --sec-gap: 3rem;
          --graphic-scale: 0.805;
          --col:3;
        }
        @include md {
          --site-max-width:75%;
          max-width: var(--site-max-width);
          --sec-gap: 3.5rem;
          --graphic-scale: 0.905;
          --col:2;
        }
        @include sm-down {
          --sec-gap: 2.15rem;
          --site-max-width: calc(100% - (var(--sec-gap) * 2));
          max-width: var(--site-max-width);
          --col:2;
          --graphic-scale: 0.75;
        }


        &--main {
          margin-top: 4rem;
          @include gap(var(--sec-gap));

          grid-template-columns: repeat(var(--col), calc((100% - (var(--sec-gap) * (var(--col) - 1)) ) / var(--col)));

        }

        &--column{
        }

        .graphic {
          &--panel {
            height:unset;
            aspect-ratio: 1/1;
          }
          &--caption {
            white-space: nowrap;
          }
        }

        .mask {
          // width: calc(Max(Min(20%, var(--w)), 65%));
          // height: calc(Max(Min(20%, var(--h)), 65%));
        }
      }
    }

    &--Scope {
    }
    &--Considerations {
    }

    &--Models {
      .section {
        &--main {
          margin-top: 1rem;
          flex-wrap: wrap;
          --gap: 3rem;
          @include flex-row-center;
          @include gap;

          --section-graphic-panel-pad: 2rem;
          --cw: #{col-gap-width(var(--site-max-width), 3, var(--gap))};
          --ch: #{col-gap-width(var(--site-max-width), 3, var(--gap), calc(var(--section-graphic-panel-pad) * 2))};
        }

        &--column {
          width: var(--cw);
        }

        &--graphic {
          --graphic-scale: 0.185;
          height: var(--ch);

          img {
            width: calc(var(--iw) * var(--graphic-scale));
            height: calc(var(--ih) * var(--graphic-scale));
          }
        }
      }
    }

    &--Imperfections {
      .split {
        height: unset;
        aspect-ratio: 1 / 1;
        --split-graphic-scale: 0.85;
        @include split-hover {
          --split-graphic-scale: 0.865;
        }
      }
    }

    &--Summary {
    }
  }

  #Texturing {
    &--Workflow {
    }

    &--Stages {
      .section {
        &--main {
          grid-template-columns: repeat(3, 1fr);
        }
      }
    }

    &--Contrast-Desc {
    }

    &--Contrast-Areas {
      .graphic {
        height: unset;
      }
    }

    &--Contrast-Split {
      .graphic {
        height: unset;
      }
    }

    &--Details-Description {
    }

    &--Details-Graphics {
      .section {
        &--main {
          grid-template-columns: repeat(4, 1fr);
        }
      }
    }

    &--Transition {
      .image-row {
        --image-row-scale: 1.15;
        --image-row-offset: 2;
      }
    }
  }

  #Rendering {
    &--Lighting {
      .split {
        background-color: $col-background_darker;
        --split-graphic-scale: 0.85;
        @include split-hover {
          --split-graphic-scale: 0.865;
          background-color: lighten($col-background_darker, 2.25);
        }
      }
    }

    &--Shadow-Description {
    }

    &--Shadow-Graphics {
      .section {
      }
    }

    &--Post {
      .section {
        --section-graphic-panel-pad: 0rem;

        &--main {
          margin-top: 2.5rem;
        }

        &--graphic {
          height: unset;
        }

        &--main {
          row-gap: 3rem;
          grid-template-columns: repeat(3, 1fr);
        }
      }
    }
    &--Roadblocks-Description {
    }

    &--Roadblocks-Graphics {
      @include hoverable-graphic-panel-with-background;
    }
    &--Python-Description {
    }
    &--Python-Graphic {
      @include hoverable-graphic-panel-with-background;
    }

    &--Scalable {
      @include hoverable-graphic-panel-with-background(1.025);
    }
    &--Closing {
    }
  }

  #Delivery {
    &--Banner {
    }

    &--Config {
      .section {
        &--wrapper {
          padding-bottom: calc(var(--section-gap) * 1.25);
        }
      }
    }

    &--Images-1,
    &--Images-2,
    &--Images-3 {
      .image-row {
        --image-row-scale: 1.35;
        --image-row-offset: 0.5;
      }

      & {
        padding-bottom: 13%;
      }
    }

    &--Closing {
      .background {
        background-color: $col-background_darker;
      }
    }
  }

  #Closing {
    &--Copy {
    }
  }
}

// #Approach {
//   &--Workflow {
//   }
//   &--Models {
//   }
//   &--Imperfections {
//   }
// }
// #Texturing {
//   &--Stages {
//   }

//   &--Contrast-Desc {
//   }
//   &--Contrast-Areas {
//   }
//   &--Contrast-Split {
//   }
//   &--Details-Description {
//   }
//   &--Details-Graphics {
//   }
//   &--Transition {
//   }
// }

// #Rendering {
//   &--Lighting {
//   }
//   &--Shadow-Description {
//   }
//   &--Shadow-Graphics {
//   }
//   &--Post{
//   }
//   &--Roadblocks-Description {
//   }
//   &--Roadblocks-Graphics {
//   }
//   &--Python-Description {
//   }
//   &--Python-Graphic {
//   }
//   &--Scalable {
//   }
//   &--Closing {
//   }
// }

// #Delivery {
//   &--Banner {
//   }
//   &--Config {
//   }
//   &--Images-1,
//   &--Images-2,
//   &--Images-3 {
//   }
//   &--Closing {
//   }
// }

// #Closing {
//   &--Copy {
//   }
// }
